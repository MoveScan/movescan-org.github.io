var lt=Object.defineProperty,ft=Object.defineProperties;var at=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var ut=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable;var F=(t,n,e)=>n in t?lt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,w=(t,n)=>{for(var e in n||(n={}))ut.call(n,e)&&F(t,e,n[e]);if(Y)for(var e of Y(n))dt.call(n,e)&&F(t,e,n[e]);return t},D=(t,n)=>ft(t,at(n));function B(t){return t.split("-")[0]}function X(t){return t.split("-")[1]}function _(t){return["top","bottom"].includes(B(t))?"x":"y"}function K(t){return t==="y"?"height":"width"}function I(t,n,e){let{reference:i,floating:o}=t;const l=i.x+i.width/2-o.width/2,r=i.y+i.height/2-o.height/2,s=_(n),c=K(s),f=i[c]/2-o[c]/2,d=B(n),a=s==="x";let u;switch(d){case"top":u={x:l,y:i.y-o.height};break;case"bottom":u={x:l,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:r};break;case"left":u={x:i.x-o.width,y:r};break;default:u={x:i.x,y:i.y}}switch(X(n)){case"start":u[s]-=f*(e&&a?-1:1);break;case"end":u[s]+=f*(e&&a?-1:1);break}return u}const ht=async(t,n,e)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:r}=e,s=await(r.isRTL==null?void 0:r.isRTL(n));let c=await r.getElementRects({reference:t,floating:n,strategy:o}),{x:f,y:d}=I(c,i,s),a=i,u={},h=0;for(let g=0;g<l.length;g++){const{name:A,fn:P}=l[g],{x:V,y:N,data:O,reset:p}=await P({x:f,y:d,initialPlacement:i,placement:a,strategy:o,middlewareData:u,rects:c,platform:r,elements:{reference:t,floating:n}});if(f=V!=null?V:f,d=N!=null?N:d,u=D(w({},u),{[A]:w(w({},u[A]),O)}),p&&h<=50){h++,typeof p=="object"&&(p.placement&&(a=p.placement),p.rects&&(c=p.rects===!0?await r.getElementRects({reference:t,floating:n,strategy:o}):p.rects),{x:f,y:d}=I(c,a,s)),g=-1;continue}}return{x:f,y:d,placement:a,strategy:o,middlewareData:u}};function gt(t){return w({top:0,right:0,bottom:0,left:0},t)}function pt(t){return typeof t!="number"?gt(t):{top:t,right:t,bottom:t,left:t}}function z(t){return D(w({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}const wt=Math.min,mt=Math.max;function yt(t,n,e){return mt(t,wt(n,e))}const Mt=t=>({name:"arrow",options:t,async fn(n){const{element:e,padding:i=0}=t!=null?t:{},{x:o,y:l,placement:r,rects:s,platform:c}=n;if(e==null)return{};const f=pt(i),d={x:o,y:l},a=_(r),u=X(r),h=K(a),g=await c.getDimensions(e),A=a==="y"?"top":"left",P=a==="y"?"bottom":"right",V=s.reference[h]+s.reference[a]-d[a]-s.floating[h],N=d[a]-s.reference[a],O=await(c.getOffsetParent==null?void 0:c.getOffsetParent(e));let p=O?a==="y"?O.clientHeight||0:O.clientWidth||0:0;p===0&&(p=s.floating[h]);const rt=V/2-N/2,$=f[A],j=p-g[h]-f[P],T=p/2-g[h]/2+rt,M=yt($,T,j),ct=(u==="start"?f[A]:f[P])>0&&T!==M&&s.reference[h]<=s.floating[h]?T<$?$-T:j-T:0;return{[a]:d[a]-ct,data:{[a]:M,centerOffset:T-M}}}});async function xt(t,n){const{placement:e,platform:i,elements:o}=t,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=B(e),s=X(e),c=_(e)==="x",f=["left","top"].includes(r)?-1:1,d=l&&c?-1:1,a=typeof n=="function"?n(t):n;let{mainAxis:u,crossAxis:h,alignmentAxis:g}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:w({mainAxis:0,crossAxis:0,alignmentAxis:null},a);return s&&typeof g=="number"&&(h=s==="end"?g*-1:g),c?{x:h*d,y:u*f}:{x:u*f,y:h*d}}const kt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){const{x:e,y:i}=n,o=await xt(n,t);return{x:e+o.x,y:i+o.y,data:o}}}};function Q(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function b(t){if(t==null)return window;if(!Q(t)){const n=t.ownerDocument;return n&&n.defaultView||window}return t}function m(t){return b(t).getComputedStyle(t)}function x(t){return Q(t)?"":t?(t.nodeName||"").toLowerCase():""}function Z(){const t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(n=>n.brand+"/"+n.version).join(" "):navigator.userAgent}function y(t){return t instanceof b(t).HTMLElement}function C(t){return t instanceof b(t).Element}function bt(t){return t instanceof b(t).Node}function L(t){if(typeof ShadowRoot=="undefined")return!1;const n=b(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function H(t){const{overflow:n,overflowX:e,overflowY:i}=m(t);return/auto|scroll|overlay|hidden/.test(n+i+e)}function At(t){return["table","td","th"].includes(x(t))}function tt(t){const n=/firefox/i.test(Z()),e=m(t);return e.transform!=="none"||e.perspective!=="none"||e.contain==="paint"||["transform","perspective"].includes(e.willChange)||n&&e.willChange==="filter"||n&&(e.filter?e.filter!=="none":!1)}function nt(){return!/^((?!chrome|android).)*safari/i.test(Z())}const U=Math.min,E=Math.max,W=Math.round;function R(t,n,e){var i,o,l,r;n===void 0&&(n=!1),e===void 0&&(e=!1);const s=t.getBoundingClientRect();let c=1,f=1;n&&y(t)&&(c=t.offsetWidth>0&&W(s.width)/t.offsetWidth||1,f=t.offsetHeight>0&&W(s.height)/t.offsetHeight||1);const d=C(t)?b(t):window,a=!nt()&&e,u=(s.left+(a&&(i=(o=d.visualViewport)==null?void 0:o.offsetLeft)!=null?i:0))/c,h=(s.top+(a&&(l=(r=d.visualViewport)==null?void 0:r.offsetTop)!=null?l:0))/f,g=s.width/c,A=s.height/f;return{width:g,height:A,top:h,right:u+g,bottom:h+A,left:u,x:u,y:h}}function v(t){return((bt(t)?t.ownerDocument:t.document)||window.document).documentElement}function S(t){return C(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function et(t){return R(v(t)).left+S(t).scrollLeft}function vt(t){const n=R(t);return W(n.width)!==t.offsetWidth||W(n.height)!==t.offsetHeight}function Rt(t,n,e){const i=y(n),o=v(n),l=R(t,i&&vt(n),e==="fixed");let r={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(i||!i&&e!=="fixed")if((x(n)!=="body"||H(o))&&(r=S(n)),y(n)){const c=R(n,!0);s.x=c.x+n.clientLeft,s.y=c.y+n.clientTop}else o&&(s.x=et(o));return{x:l.left+r.scrollLeft-s.x,y:l.top+r.scrollTop-s.y,width:l.width,height:l.height}}function ot(t){return x(t)==="html"?t:t.assignedSlot||t.parentNode||(L(t)?t.host:null)||v(t)}function q(t){return!y(t)||m(t).position==="fixed"?null:Tt(t)}function Tt(t){let{offsetParent:n}=t,e=t,i=!1;for(;e&&e!==n;){const{assignedSlot:o}=e;if(o){let l=o.offsetParent;if(m(o).display==="contents"){const r=o.hasAttribute("style"),s=o.style.display;o.style.display=m(e).display,l=o.offsetParent,o.style.display=s,r||o.removeAttribute("style")}e=o,n!==l&&(n=l,i=!0)}else if(L(e)&&e.host&&i)break;e=L(e)&&e.host||e.parentNode}return n}function Ct(t){let n=ot(t);for(L(n)&&(n=n.host);y(n)&&!["html","body"].includes(x(n));){if(tt(n))return n;{const e=n.parentNode;n=L(e)?e.host:e}}return null}function k(t){const n=b(t);let e=q(t);for(;e&&At(e)&&m(e).position==="static";)e=q(e);return e&&(x(e)==="html"||x(e)==="body"&&m(e).position==="static"&&!tt(e))?n:e||Ct(t)||n}function G(t){if(y(t))return{width:t.offsetWidth,height:t.offsetHeight};const n=R(t);return{width:n.width,height:n.height}}function Lt(t){let{rect:n,offsetParent:e,strategy:i}=t;const o=y(e),l=v(e);if(e===l)return n;let r={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if((o||!o&&i!=="fixed")&&((x(e)!=="body"||H(l))&&(r=S(e)),y(e))){const c=R(e,!0);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}return D(w({},n),{x:n.x-r.scrollLeft+s.x,y:n.y-r.scrollTop+s.y})}function Ot(t,n){const e=b(t),i=v(t),o=e.visualViewport;let l=i.clientWidth,r=i.clientHeight,s=0,c=0;if(o){l=o.width,r=o.height;const f=nt();(f||!f&&n==="fixed")&&(s=o.offsetLeft,c=o.offsetTop)}return{width:l,height:r,x:s,y:c}}function Dt(t){var n;const e=v(t),i=S(t),o=(n=t.ownerDocument)==null?void 0:n.body,l=E(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=E(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let s=-i.scrollLeft+et(t);const c=-i.scrollTop;return m(o||e).direction==="rtl"&&(s+=E(e.clientWidth,o?o.clientWidth:0)-l),{width:l,height:r,x:s,y:c}}function it(t){const n=ot(t);return["html","body","#document"].includes(x(n))?t.ownerDocument.body:y(n)&&H(n)?n:it(n)}function st(t,n){var e;n===void 0&&(n=[]);const i=it(t),o=i===((e=t.ownerDocument)==null?void 0:e.body),l=b(i),r=o?[l].concat(l.visualViewport||[],H(i)?i:[]):i,s=n.concat(r);return o?s:s.concat(st(r))}function Et(t,n){const e=n.getRootNode==null?void 0:n.getRootNode();if(t.contains(n))return!0;if(e&&L(e)){let i=n;do{if(i&&t===i)return!0;i=i.parentNode||i.host}while(i)}return!1}function Pt(t,n){const e=R(t,!1,n==="fixed"),i=e.top+t.clientTop,o=e.left+t.clientLeft;return{top:i,left:o,x:o,y:i,right:o+t.clientWidth,bottom:i+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function J(t,n,e){return n==="viewport"?z(Ot(t,e)):C(n)?Pt(n,e):z(Dt(v(t)))}function Vt(t){const n=st(t),i=["absolute","fixed"].includes(m(t).position)&&y(t)?k(t):t;return C(i)?n.filter(o=>C(o)&&Et(o,i)&&x(o)!=="body"):[]}function Nt(t){let{element:n,boundary:e,rootBoundary:i,strategy:o}=t;const r=[...e==="clippingAncestors"?Vt(n):[].concat(e),i],s=r[0],c=r.reduce((f,d)=>{const a=J(n,d,o);return f.top=E(a.top,f.top),f.right=U(a.right,f.right),f.bottom=U(a.bottom,f.bottom),f.left=E(a.left,f.left),f},J(n,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}const Wt={getClippingRect:Nt,convertOffsetParentRelativeRectToViewportRelativeRect:Lt,isElement:C,getDimensions:G,getOffsetParent:k,getDocumentElement:v,getElementRects:t=>{let{reference:n,floating:e,strategy:i}=t;return{reference:Rt(n,k(e),i),floating:D(w({},G(e)),{x:0,y:0})}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>m(t).direction==="rtl"},Bt=(t,n,e)=>ht(t,n,w({platform:Wt},e));export{Mt as a,Bt as c,kt as o};
