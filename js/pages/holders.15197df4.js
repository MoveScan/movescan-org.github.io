var V=Object.defineProperty;var C=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var k=(e,o,t)=>o in e?V(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,h=(e,o)=>{for(var t in o||(o={}))N.call(o,t)&&k(e,t,o[t]);if(C)for(var t of C(o))F.call(o,t)&&k(e,t,o[t]);return e};import{u as A,b as B}from"../vue-router/vue-router.b3b2f7cd.js";import{_ as E,a as R,t as U,s as I}from"../footer/footer.becc9f56.js";import{S as L}from"../search/search.64506da3.js";import{r as M}from"../index/index.b402fc8a.js";import{u as j}from"../vue-clipboard3/vue-clipboard3.f7ffa845.js";import{u as K}from"../store/store.18269d15.js";import{_ as Q}from"../../assets/index.c9112440.js";import{E as b}from"../element-plus/element-plus.7de12a9d.js";import{I as W,a0 as X,r as p,a3 as q,h as G,a4 as s,al as J,o as _,c as O,X as l,a as c,L as f,W as m,Q as d,F as Y,R as Z,P as S,V as w,U as x,K as ee}from"../@vue/@vue.fb755038.js";import"../@vueuse/@vueuse.d209e4ed.js";import"../vue-i18n/vue-i18n.6f01f2b2.js";import"../@intlify/@intlify.6852b34b.js";import"../source-map/source-map.6efb65ba.js";import"../vue/vue.b16dc40c.js";import"../@element-plus/@element-plus.fb03e5a3.js";import"../axios/axios.f5bf103d.js";import"../nprogress/nprogress.03f19d7f.js";import"../js-cookie/js-cookie.431252a9.js";import"../clipboard/clipboard.61903894.js";import"../pinia/pinia.81315bcb.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../echarts/echarts.5bea4114.js";import"../tslib/tslib.e35f93b8.js";import"../zrender/zrender.b2e4eadc.js";import"../vue-json-viewer/vue-json-viewer.7e7e9520.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.54412c64.js";import"../lodash-es/lodash-es.a0751e35.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.17547d95.js";import"../dayjs/dayjs.7ffc491e.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.1282fc6d.js";const oe=W({name:"Coin Detail",components:{Header:E,Search:L,Footer:R},setup(){A(),B();const{toClipboard:e}=j(),o=X({store:K(),loading:p(!0),currentPage:p(1),pageSize:p(20),background:p(!1),disabled:p(!1),total:p(0),activeName:p("second"),tableData:[],getCoinHolders:()=>{const a=localStorage.getItem("network"),i=[{network:"aptos_mainnet",tag:"0x1::aptos_coin::AptosCoin"},{network:"aptos_testnet",tag:"0x1::aptos_coin::AptosCoin"},{network:"aptos_devnet",tag:"0x1::aptos_coin::AptosCoin"},{network:"starcoin_main",tag:"0x00000000000000000000000000000001::STC::STC"},{network:"starcoin_barnard",tag:"0x00000000000000000000000000000001::STC::STC"},{network:"starcoin_halley",tag:"0x00000000000000000000000000000001::STC::STC"}];let g="";i.forEach(n=>{n.network==a&&(g=n.tag)}),M({coin_id:g,page:o.currentPage,count:o.pageSize}).then(n=>{console.log("Holders",n),o.tableData=n.contents,o.total=n.total,o.loading=!1}).catch(n=>{console.log(n)})},handleClick:(a,i)=>{console.log(a,i)},timestampToTime:a=>U(a),handleSizeChange:a=>{console.log(`${a} items per page`)},handleCurrentChange:a=>{console.log(`current page: ${a}`),o.loading=!0,o.currentPage=a,o.getCoinHolders()},setSubstring:a=>I(a),copy:async a=>{try{await e(a),b.success("copy success")}catch(i){console.log(i),i.text==null?b.error("copy failed"):b.error(i)}},isDark:a=>a?"color:#2ef1a7":"color:#715cff"}),t=q(o);return G(()=>{o.getCoinHolders()}),h({},t)}}),ae={class:"container"},te={class:""},re={class:"page"};function ne(e,o,t,a,i,g){const n=s("Header"),v=s("Search"),y=s("router-link"),u=s("el-table-column"),D=s("el-table"),T=s("el-pagination"),z=s("el-tab-pane"),$=s("el-tabs"),P=s("Footer"),H=J("loading");return _(),O(Y,null,[l(n),l(v),c("div",ae,[c("div",{class:"block-title",style:f(e.isDark(e.store.switchDark))},m(e.$t("lang.TopHolders")),5),c("div",{class:"table",style:f(e.store.switchDark?"background:#202020":"background:#f2f2f2")},[l($,{modelValue:e.activeName,"onUpdate:modelValue":o[2]||(o[2]=r=>e.activeName=r),class:"demo-tabs",onTabClick:e.handleClick},{default:d(()=>[l(z,{label:e.$t("lang.PassHolder"),name:"second"},{default:d(()=>[c("div",te,"total "+m(e.total),1),Z((_(),S(D,{class:ee(e.store.switchDark?"black":"white"),data:e.tableData},{default:d(()=>[l(u,{prop:"address",label:e.$t("lang.Account"),width:"660"},{default:d(r=>[r.row.address!==null?(_(),S(y,{key:0,to:"/accountDetail?address="+r.row.address,style:f(e.isDark(e.store.switchDark))},{default:d(()=>[w(m(r.row.address),1)]),_:2},1032,["to","style"])):x("",!0)]),_:1},8,["label"]),l(u,{prop:"amount",label:e.$t("lang.Amount")},null,8,["label"]),l(u,{prop:"supply",label:e.$t("lang.Proportion")},{default:d(r=>[w(m((r.row.amount/1e17*100).toFixed(6)+"%"),1)]),_:1},8,["label"])]),_:1},8,["class","data"])),[[H,e.loading]]),c("div",re,[l(T,{currentPage:e.currentPage,"onUpdate:currentPage":o[0]||(o[0]=r=>e.currentPage=r),"page-size":e.pageSize,"onUpdate:page-size":o[1]||(o[1]=r=>e.pageSize=r),disabled:e.disabled,background:e.background,layout:"prev, pager, next, jumper",total:e.total>1e3?1e3:e.total,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["currentPage","page-size","disabled","background","total","onSizeChange","onCurrentChange"])])]),_:1},8,["label"])]),_:1},8,["modelValue","onTabClick"])],4)]),l(P)],64)}var je=Q(oe,[["render",ne],["__scopeId","data-v-db87ad66"]]);export{je as default};
