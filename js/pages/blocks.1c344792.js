var B=Object.defineProperty;var h=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var b=(e,a,t)=>a in e?B(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,k=(e,a)=>{for(var t in a||(a={}))z.call(a,t)&&b(e,t,a[t]);if(h)for(var t of h(a))P.call(a,t)&&b(e,t,a[t]);return e};import{_ as L,a as T,t as H,s as F}from"../footer/footer.becc9f56.js";import{S as V}from"../search/search.64506da3.js";import{e as N,g as U}from"../index/index.b402fc8a.js";import{u as I}from"../store/store.18269d15.js";import{_ as R}from"../../assets/index.c9112440.js";import{I as j,a0 as A,r as i,a3 as E,h as G,a4 as s,al as K,o as m,c as f,X as r,a as g,L as c,W as p,R as M,P as _,Q as l,K as Q,F as W,V as d,U as S}from"../@vue/@vue.fb755038.js";import"../@vueuse/@vueuse.d209e4ed.js";import"../vue-router/vue-router.b3b2f7cd.js";import"../vue-i18n/vue-i18n.6f01f2b2.js";import"../@intlify/@intlify.6852b34b.js";import"../source-map/source-map.6efb65ba.js";import"../vue/vue.b16dc40c.js";import"../@element-plus/@element-plus.fb03e5a3.js";import"../element-plus/element-plus.7de12a9d.js";import"../lodash-es/lodash-es.a0751e35.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.17547d95.js";import"../dayjs/dayjs.7ffc491e.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.1282fc6d.js";import"../axios/axios.f5bf103d.js";import"../nprogress/nprogress.03f19d7f.js";import"../js-cookie/js-cookie.431252a9.js";import"../pinia/pinia.81315bcb.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../echarts/echarts.5bea4114.js";import"../tslib/tslib.e35f93b8.js";import"../zrender/zrender.b2e4eadc.js";import"../vue-json-viewer/vue-json-viewer.7e7e9520.js";import"../clipboard/clipboard.61903894.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.54412c64.js";const X=j({name:"Block",components:{Header:L,Search:V,Footer:T},setup(){const e=A({store:I(),loading:i(!0),currentPage:i(1),pageSize:i(20),total:i(0),background:i(!1),disabled:i(!1),tableData:[],getBlock:()=>{N({height:"1"}).then(t=>{console.log("Block",t)}).catch(t=>{console.log(t)})},getBlockListStart:()=>{U({page:e.currentPage,count:e.pageSize}).then(t=>{console.log("BlockStart",t),e.tableData=t.contents,e.total=t.total>1e3?1e3:t.total,e.loading=!1}).catch(t=>{console.log(t)})},timestampToTime:t=>H(t),setSubstring:t=>F(t),handleSizeChange:t=>{console.log(`${t} items per page`)},handleCurrentChange:t=>{console.log(`current page: ${t}`),e.loading=!0,e.currentPage=t,e.getBlockListStart()},isDark:t=>t?"color:#2ef1a7":"color:#715cff"}),a=E(e);return G(()=>{e.getBlockListStart()}),k({},a)}}),q={class:"container"},J={key:0},O={class:"page"};function Y(e,a,t,Z,x,ee){const w=s("Header"),D=s("Search"),u=s("router-link"),n=s("el-table-column"),C=s("el-table"),v=s("el-pagination"),$=s("Footer"),y=K("loading");return m(),f(W,null,[r(w),r(D),g("div",q,[g("div",{class:"block-title",style:c(e.isDark(e.store.switchDark))},p(e.$t("lang.Block")),5),g("div",{class:"table",style:c(e.store.switchDark?"background:#202020":"background:#f2f2f2")},[g("div",null,p(e.$t("lang.LatestList")),1),M((m(),_(C,{class:Q(e.store.switchDark?"black":"white"),data:e.tableData},{default:l(()=>[r(n,{prop:"height",label:e.$t("lang.Height")},{default:l(o=>[r(u,{to:"/blocksDetail?height="+o.row.height+"&hash="+o.row.block_hash,style:c(e.isDark(e.store.switchDark))},{default:l(()=>[d(p(o.row.height),1)]),_:2},1032,["to","style"])]),_:1},8,["label"]),r(n,{prop:"create_at",label:e.$t("lang.CreateAt")},{default:l(o=>[o.row.create_at!=null?(m(),f("span",J,p(e.timestampToTime(o.row.create_at)),1)):S("",!0)]),_:1},8,["label"]),r(n,{prop:"author",label:e.$t("lang.Creator")},{default:l(o=>[o.row.author!==null?(m(),_(u,{key:0,to:"/accountDetail?address="+o.row.author,style:c(e.isDark(e.store.switchDark))},{default:l(()=>[d(p(e.setSubstring(o.row.author)),1)]),_:2},1032,["to","style"])):S("",!0)]),_:1},8,["label"]),r(n,{prop:"gas_used",label:e.$t("lang.GasUsed")},null,8,["label"]),r(n,{prop:"transactions",label:e.$t("lang.Txns")},null,8,["label"]),r(n,{prop:"block_hash",label:e.$t("lang.Hash"),"show-overflow-tooltip":!0},{default:l(o=>[r(u,{to:"/blocksDetail?hash="+o.row.block_hash,style:c(e.isDark(e.store.switchDark))},{default:l(()=>[d(p(e.setSubstring(o.row.block_hash)),1)]),_:2},1032,["to","style"])]),_:1},8,["label"])]),_:1},8,["class","data"])),[[y,e.loading]]),g("div",O,[r(v,{currentPage:e.currentPage,"onUpdate:currentPage":a[0]||(a[0]=o=>e.currentPage=o),"page-size":e.pageSize,"onUpdate:page-size":a[1]||(a[1]=o=>e.pageSize=o),disabled:e.disabled,background:e.background,layout:"prev, pager, next, jumper",total:e.total,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["currentPage","page-size","disabled","background","total","onSizeChange","onCurrentChange"])])],4)]),r($)],64)}var Ue=R(X,[["render",Y],["__scopeId","data-v-4ad74fbc"]]);export{Ue as default};
