var N=Object.defineProperty;var f=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var w=(t,o,i)=>o in t?N(t,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[o]=i,v=(t,o)=>{for(var i in o||(o={}))P.call(o,i)&&w(t,i,o[i]);if(f)for(var i of f(o))V.call(o,i)&&w(t,i,o[i]);return t};import{i as G}from"../echarts/echarts.5bea4114.js";import{u as R}from"../vue-router/vue-router.b3b2f7cd.js";import{_ as K,a as M,t as O,s as Q,g as W}from"../footer/footer.becc9f56.js";import{S as X}from"../search/search.64506da3.js";import{g as Y,a as j,b as q}from"../index/index.b402fc8a.js";import{u as J}from"../store/store.18269d15.js";import{_ as Z}from"../../assets/index.c9112440.js";import{I as x,a0 as tt,r as u,a3 as at,h as et,a4 as c,al as st,o as h,c as k,X as r,a,K as d,L as n,W as s,Q as p,F as y,a7 as $,R as ot,P as lt,V as T,U as rt}from"../@vue/@vue.fb755038.js";import"../tslib/tslib.e35f93b8.js";import"../zrender/zrender.b2e4eadc.js";import"../@vueuse/@vueuse.d209e4ed.js";import"../vue-i18n/vue-i18n.6f01f2b2.js";import"../@intlify/@intlify.6852b34b.js";import"../source-map/source-map.6efb65ba.js";import"../vue/vue.b16dc40c.js";import"../@element-plus/@element-plus.fb03e5a3.js";import"../element-plus/element-plus.7de12a9d.js";import"../lodash-es/lodash-es.a0751e35.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.17547d95.js";import"../dayjs/dayjs.7ffc491e.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.1282fc6d.js";import"../axios/axios.f5bf103d.js";import"../nprogress/nprogress.03f19d7f.js";import"../js-cookie/js-cookie.431252a9.js";import"../pinia/pinia.81315bcb.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../vue-json-viewer/vue-json-viewer.7e7e9520.js";import"../clipboard/clipboard.61903894.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.54412c64.js";const nt=x({name:"Token",components:{Header:K,Search:X,Footer:M},setup(){const t=R(),o=tt({store:J(),loading:u(!0),currentPage:u(1),pageSize:u(10),total:u(0),background:u(!1),disabled:u(!1),blockData:u([]),transactionData:u([]),summary:u({}),getBlock:()=>{Y({page:o.currentPage,count:o.pageSize}).then(e=>{console.log("Block",e),o.blockData=e.contents}).catch(e=>{console.log(e)})},getTransaction:()=>{j({page:o.currentPage,count:o.pageSize,start:0,txn_type:""}).then(e=>{console.log("transaction",e),o.transactionData=e.contents,o.loading=!1}).catch(e=>{console.log(e)})},chainSummary:()=>{q().then(e=>{console.log("Summary",e),o.summary=e}).catch(e=>{console.log(e)})},timestampToTime:e=>O(e),setSubstring:e=>Q(e),initChart:()=>{const e=document.getElementById("chart"),m=G(e),b={title:{text:"\u6BCF\u65E5\u4EA4\u6613\u6570(14\u5929)"},xAxis:{type:"category",axisLabel:{interval:0,rotate:38},data:["09/12","09/13","09/14","09/15","09/16","09/17","09/18","09/19","09/20","09/21","09/22","09/23","09/24","09/25"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260,150,230,224,218,135,147,260],type:"line",smooth:!0}]};b&&m.setOption(b),window.onresize=function(){m.resize()}},gotoBlock:(e,m)=>{t.push("/blocksDetail?height="+e+"&hash="+m)},gotoTransaction:(e,m)=>{t.push("/transactionDetail?hash="+e+"&txn_type="+m)},isPageLoad:()=>{console.log("111"),document.onreadystatechange=()=>{document.readyState=="complete"?alert("2"):alert("1")}},isDark:e=>e?"color:#2ef1a7":"color:#715cff",isBar:e=>e?"bar1":"bar2",setImgUrl:e=>W(e)}),i=at(o);return et(()=>{o.chainSummary(),o.getBlock(),o.getTransaction()}),v({},i)}}),it={class:"container"},ct={class:"total"},pt={class:"home-block-wrap"},ut={class:"block text-center"},mt=["onClick"],ht={class:"txt2"},dt={class:"txt3"},gt={class:"txt3"},kt={class:"txt4"},bt=["onClick"],_t={class:"txt2"},yt={class:"txt3"},Dt={class:"txt3"},ft={class:"txt4"},wt={key:0};function vt(t,o,i,e,m,b){const B=c("Header"),F=c("Search"),D=c("el-carousel-item"),S=c("el-carousel"),C=c("router-link"),g=c("el-table-column"),A=c("el-table"),I=c("el-scrollbar"),H=c("el-col"),U=c("el-row"),z=c("Footer"),L=st("loading");return h(),k(y,null,[r(B),r(F),a("div",it,[a("div",ct,[a("div",null,[a("a",{class:d(t.isBar(t.store.switchDark))},null,2),a("h3",{style:n(t.isDark(t.store.switchDark))},s(t.summary.total_blocks),5),a("span",null,s(t.$t("lang.TotalBlocks")),1)]),a("div",null,[a("a",{class:d(t.isBar(t.store.switchDark))},null,2),a("h3",{style:n(t.isDark(t.store.switchDark))},s(t.summary.total_accounts),5),a("span",null,s(t.$t("lang.TotalAccounts")),1)]),a("div",null,[a("a",{class:d(t.isBar(t.store.switchDark))},null,2),a("h3",{style:n(t.isDark(t.store.switchDark))},s(t.summary.total_txns),5),a("span",null,s(t.$t("lang.TotalTxns")),1)]),a("div",null,[a("a",{class:d(t.isBar(t.store.switchDark))},null,2),a("h3",{style:n(t.isDark(t.store.switchDark))},s(t.summary.total_transfers),5),a("span",null,s(t.$t("lang.TotalTransfers")),1)])]),a("div",pt,[a("div",{class:"block-title",style:n(t.isDark(t.store.switchDark))},[a("div",{class:"block-title-left",style:n(t.store.switchDark?"background: url("+t.setImgUrl("img_2.png")+") center no-repeat":"background: url("+t.setImgUrl("img_1.png")+") center no-repeat")},[a("a",{href:"/blocks",style:n(t.isDark(t.store.switchDark))},[a("span",null,s(t.$t("lang.Blocks")),1)],4)],4)],4),a("div",ut,[r(S,{height:"350px"},{default:p(()=>[r(D,{class:"block-box"},{default:p(()=>[(h(!0),k(y,null,$(t.blockData.slice(0,5),(l,_)=>(h(),k("div",{class:d(t.store.switchDark?"box":"box2"),key:_,onClick:E=>t.gotoBlock(l.height,l.block_hash)},[a("p",{class:"txt1",style:n(t.isDark(t.store.switchDark))},s(t.$t("lang.Height"))+"\uFF1A"+s(l.height),5),a("p",ht,s(t.$t("lang.BlockHash")),1),a("p",dt,s(t.$t("lang.Txns"))+"\uFF1A"+s(l.transactions),1),a("p",gt,s(t.$t("lang.GasUsed"))+"\uFF1A"+s(l.gas_used),1),a("p",kt,s(t.timestampToTime(l.create_at)),1)],10,mt))),128))]),_:1}),r(D,{class:"block-box"},{default:p(()=>[(h(!0),k(y,null,$(t.blockData.slice(5,10),(l,_)=>(h(),k("div",{class:d(t.store.switchDark?"box":"box2"),key:_,onClick:E=>t.gotoBlock(l.height,l.block_hash)},[a("p",{class:"txt1",style:n(t.isDark(t.store.switchDark))},s(t.$t("lang.Height"))+"\uFF1A"+s(l.height),5),a("p",_t,s(t.$t("lang.BlockHash")),1),a("p",yt,s(t.$t("lang.Txns"))+"\uFF1A"+s(l.transactions),1),a("p",Dt,s(t.$t("lang.GasUsed"))+"\uFF1A"+s(l.gas_used),1),a("p",ft,s(t.timestampToTime(l.create_at)),1)],10,bt))),128))]),_:1})]),_:1})])]),a("div",{class:"home-block-wrap",style:n(t.store.switchDark?"margin: 20px 0; background: #222; border-radius: 20px":"")},[a("div",{class:"block-title",style:n(t.isDark(t.store.switchDark))},[a("div",{class:"block-title-left",style:n(t.store.switchDark?"background: url("+t.setImgUrl("img_2.png")+") center no-repeat":"background: url("+t.setImgUrl("img_1.png")+") center no-repeat")},[a("a",{href:"/blocks",style:n(t.isDark(t.store.switchDark))},[a("span",null,s(t.$t("lang.TransactionDisplay")),1)],4)],4)],4),r(U,null,{default:p(()=>[r(H,{span:24},{default:p(()=>[r(I,{height:"500px",style:{"border-radius":"10px"}},{default:p(()=>[ot((h(),lt(A,{class:d(t.store.switchDark?"black":"white"),data:t.transactionData},{default:p(()=>[r(g,{prop:"txn_hash",label:t.$t("lang.TxnHash"),"show-overflow-tooltip":!0,width:"300"},{default:p(l=>[r(C,{to:"/transactionDetail?hash="+l.row.txn_hash+"&txn_type="+l.row.txn_type,style:n(t.isDark(t.store.switchDark))},{default:p(()=>[T(s(t.setSubstring(l.row.txn_hash)),1)]),_:2},1032,["to","style"])]),_:1},8,["label"]),r(g,{prop:"gas_used",label:t.$t("lang.GasUsed")},null,8,["label"]),r(g,{prop:"success",label:t.$t("lang.IsSuccess")},{default:p(l=>[T(s(l.row.success?t.$t("lang.Yes"):t.$t("lang.No")),1)]),_:1},8,["label"]),r(g,{prop:"create_at",label:t.$t("lang.CreateAt")},{default:p(l=>[l.row.create_at!=null?(h(),k("span",wt,s(t.timestampToTime(l.row.create_at)),1)):rt("",!0)]),_:1},8,["label"]),r(g,{prop:"global_index",label:t.$t("lang.GlobalIndex")},null,8,["label"]),r(g,{prop:"txn_type",label:t.$t("lang.TxnType")},null,8,["label"])]),_:1},8,["class","data"])),[[L,t.loading]])]),_:1})]),_:1})]),_:1})],4)]),r(z)],64)}var la=Z(nt,[["render",vt],["__scopeId","data-v-cc9beed4"]]);export{la as default};
