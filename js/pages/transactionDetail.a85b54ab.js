var R=Object.defineProperty;var A=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var T=(e,n,r)=>n in e?R(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,S=(e,n)=>{for(var r in n||(n={}))I.call(n,r)&&T(e,r,n[r]);if(A)for(var r of A(n))q.call(n,r)&&T(e,r,n[r]);return e};import{u as J,b as M}from"../vue-router/vue-router.b3b2f7cd.js";import{_ as O,a as P,t as U}from"../footer/footer.becc9f56.js";import{S as j}from"../search/search.64506da3.js";import{f as z}from"../index/index.b402fc8a.js";import{u as G}from"../vue-clipboard3/vue-clipboard3.f7ffa845.js";import{u as K}from"../store/store.18269d15.js";import{_ as L}from"../../assets/index.c9112440.js";import{E as F}from"../element-plus/element-plus.7de12a9d.js";import{I as Q,a0 as W,r as v,a3 as X,h as Y,a4 as h,o as u,c as f,X as t,a,L as k,W as l,P as c,Q as s,U as d,F as Z,V as y,K as H}from"../@vue/@vue.fb755038.js";import"../@vueuse/@vueuse.d209e4ed.js";import"../vue-i18n/vue-i18n.6f01f2b2.js";import"../@intlify/@intlify.6852b34b.js";import"../source-map/source-map.6efb65ba.js";import"../vue/vue.b16dc40c.js";import"../@element-plus/@element-plus.fb03e5a3.js";import"../axios/axios.f5bf103d.js";import"../nprogress/nprogress.03f19d7f.js";import"../js-cookie/js-cookie.431252a9.js";import"../clipboard/clipboard.61903894.js";import"../pinia/pinia.81315bcb.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../echarts/echarts.5bea4114.js";import"../tslib/tslib.e35f93b8.js";import"../zrender/zrender.b2e4eadc.js";import"../vue-json-viewer/vue-json-viewer.7e7e9520.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.54412c64.js";import"../lodash-es/lodash-es.a0751e35.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.17547d95.js";import"../dayjs/dayjs.7ffc491e.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.1282fc6d.js";const x=Q({name:"transactionHash",components:{Header:O,Search:j,Footer:P},setup(){J();const e=M(),{toClipboard:n}=G(),r=W({store:K(),activeName:v("first"),tableData:v([]),detail:v({payload:""}),defaultProps:v({children:"children",label:"label"}),transactionAggregated:p=>{z({hash:p}).then(m=>{console.log("Aggregated",m),r.detail=m,r.detail.payload=JSON.parse(m.payload)}).catch(m=>{console.log(m)})},timestampToTime:p=>U(p),handleNodeClick:p=>{console.log(p)},handleClick:(p,m)=>{console.log(p,m)},copy:async p=>{try{await n(p),F.success("copy success")}catch(m){console.log(m),m.text==null?F.error("copy failed"):F.error(m)}},isDark:p=>p?"color:#2ef1a7":"color:#715cff"}),_=X(r);return Y(()=>{r.transactionAggregated(e.query.hash)}),S({},_)}}),ee={class:"container"},ae={key:0},le={key:0,style:{width:"90%"}},te={key:0},oe={key:0};function ne(e,n,r,_,p,m){const N=h("Header"),V=h("Search"),b=h("DocumentCopy"),g=h("el-icon"),$=h("json-viewer"),i=h("el-table-column"),w=h("router-link"),C=h("el-table"),D=h("el-tab-pane"),B=h("el-tabs"),E=h("Footer");return u(),f(Z,null,[t(N),t(V),a("div",ee,[a("div",{class:"block-title",style:k(e.isDark(e.store.switchDark))},l(e.$t("lang.TransactionDetail")),5),a("div",{class:"blocks-data-wrap table list",style:k(e.store.switchDark?"background:#202020":"background:#f2f2f2")},[a("div",null,[a("span",null,l(e.$t("lang.TxnHash"))+"\uFF1A",1),a("span",null,l(e.detail.txn_hash),1),e.detail.txn_hash!=null?(u(),c(g,{key:0,onClick:n[0]||(n[0]=o=>e.copy(e.detail.txn_hash))},{default:s(()=>[t(b)]),_:1})):d("",!0)]),a("div",null,[a("span",null,l(e.$t("lang.IsSuccess"))+"\uFF1A",1),a("span",null,l(e.detail.success?e.$t("lang.Yes"):e.$t("lang.No")),1)]),a("div",null,[a("span",null,l(e.$t("lang.Sender"))+"\uFF1A",1),a("span",null,l(e.detail.sender),1),e.detail.sender!=null?(u(),c(g,{key:0,onClick:n[1]||(n[1]=o=>e.copy(e.detail.sender))},{default:s(()=>[t(b)]),_:1})):d("",!0)]),a("div",null,[a("span",null,l(e.$t("lang.BlockHash"))+"\uFF1A",1),a("span",null,l(e.detail.block_hash),1),e.detail.block_hash!=null?(u(),c(g,{key:0,onClick:n[2]||(n[2]=o=>e.copy(e.detail.block_hash))},{default:s(()=>[t(b)]),_:1})):d("",!0)]),a("div",null,[a("span",null,l(e.$t("lang.Height"))+"\uFF1A",1),a("span",null,l(e.detail.block_number),1),e.detail.block_number!=null?(u(),c(g,{key:0,onClick:n[3]||(n[3]=o=>e.copy(e.detail.block_number))},{default:s(()=>[t(b)]),_:1})):d("",!0)]),a("div",null,[a("span",null,l(e.$t("lang.TxnType"))+"\uFF1A",1),a("span",null,l(e.detail.txn_type),1)]),a("div",null,[a("span",null,l(e.$t("lang.AccumulatorRootHash"))+"\uFF1A",1),a("span",null,l(e.detail.accumulator_root_hash),1),e.detail.accumulator_root_hash!=null?(u(),c(g,{key:0,onClick:n[4]||(n[4]=o=>e.copy(e.detail.accumulator_root_hash))},{default:s(()=>[t(b)]),_:1})):d("",!0)]),a("div",null,[a("span",null,l(e.$t("lang.BlockHash"))+"\uFF1A",1),a("span",null,l(e.detail.block_hash),1),e.detail.block_hash!=null?(u(),c(g,{key:0,onClick:n[5]||(n[5]=o=>e.copy(e.detail.block_hash))},{default:s(()=>[t(b)]),_:1})):d("",!0)]),a("div",null,[a("span",null,l(e.$t("lang.Block")+e.$t("lang.Height"))+"\uFF1A",1),a("span",null,l(e.detail.block_number),1)]),a("div",null,[a("span",null,l(e.$t("lang.CreateAt"))+"\uFF1A",1),e.detail.create_at!=null?(u(),f("span",ae,l(e.timestampToTime(e.detail.create_at)),1)):d("",!0)]),a("div",null,[a("span",null,l(e.$t("lang.EventRootHash"))+"\uFF1A",1),a("span",null,l(e.detail.event_root_hash),1),e.detail.event_root_hash!=null?(u(),c(g,{key:0,onClick:n[6]||(n[6]=o=>e.copy(e.detail.event_root_hash))},{default:s(()=>[t(b)]),_:1})):d("",!0)]),a("div",null,[a("span",null,l(e.$t("lang.GasUsed"))+"\uFF1A",1),a("span",null,l(e.detail.gas_used),1)]),a("div",null,[a("span",null,l(e.$t("lang.GlobalIndex"))+"\uFF1A",1),a("span",null,l(e.detail.global_index),1)]),a("div",null,[a("span",null,l(e.$t("lang.Payload"))+"\uFF1A",1),e.detail.payload!=null?(u(),f("span",le,[t($,{value:e.detail.payload,"expand-depth":5,copyable:"",boxed:"",sort:""},null,8,["value"])])):d("",!0)]),a("div",null,[a("span",null,l(e.$t("lang.StateRoot"))+"\uFF1A",1),a("span",null,l(e.detail.state_root_hash),1),e.detail.state_root_hash!=null?(u(),c(g,{key:0,onClick:n[7]||(n[7]=o=>e.copy(e.detail.state_root_hash))},{default:s(()=>[t(b)]),_:1})):d("",!0)]),a("div",null,[a("span",null,l(e.$t("lang.VMState"))+"\uFF1A",1),a("span",null,l(e.detail.vm_status),1)])],4),["user_transaction","ScriptFunction","Script"].includes(e.$route.query.txn_type)?(u(),f("div",{key:0,class:"tab",style:k(e.store.switchDark?"background:#202020":"background:#f2f2f2")},[t(B,{modelValue:e.activeName,"onUpdate:modelValue":n[8]||(n[8]=o=>e.activeName=o),class:"demo-tabs",onTabClick:e.handleClick},{default:s(()=>[t(D,{label:e.$t("lang.ResourceChanges"),name:"first"},{default:s(()=>[t(C,{class:H(e.store.switchDark?"black":"white"),data:e.detail.changes},{default:s(()=>[t(i,{prop:"change_type",label:e.$t("lang.ChangeType")},null,8,["label"]),t(i,{prop:"create_at",label:e.$t("lang.CreateAt")},{default:s(o=>[o.row.create_at!=null?(u(),f("span",te,l(e.timestampToTime(o.row.create_at)),1)):d("",!0)]),_:1},8,["label"]),t(i,{prop:"address",label:e.$t("lang.Account"),"show-overflow-tooltip":!0},{default:s(o=>[t(w,{to:"/accountDetail?address="+o.row.address,style:k(e.isDark(e.store.switchDark))},{default:s(()=>[y(l(o.row.address),1)]),_:2},1032,["to","style"])]),_:1},8,["label"]),t(i,{label:e.$t("lang.StateKeyHash"),"show-overflow-tooltip":!0},{default:s(o=>[y(l(o.row.change_id.state_key_hash),1)]),_:1},8,["label"]),t(i,{label:e.$t("lang.TxnHash"),"show-overflow-tooltip":!0},{default:s(o=>[y(l(o.row.change_id.txn_hash),1)]),_:1},8,["label"]),t(i,{type:"expand",label:e.$t("lang.ChangeData"),width:"100"},{default:s(o=>[t($,{value:JSON.parse(o.row.change_data),"expand-depth":5,copyable:"",boxed:"",sort:""},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["class","data"])]),_:1},8,["label"]),t(D,{label:e.$t("lang.Event"),name:"second"},{default:s(()=>[t(C,{class:H(e.store.switchDark?"black":"white"),data:e.detail.events},{default:s(()=>[t(i,{prop:"id",label:"ID"}),t(i,{prop:"create_at",label:e.$t("lang.CreateAt")},{default:s(o=>[o.row.create_at!=null?(u(),f("span",oe,l(e.timestampToTime(o.row.create_at)),1)):d("",!0)]),_:1},8,["label"]),t(i,{prop:"address",label:e.$t("lang.Account")+e.$t("lang.Address"),"show-overflow-tooltip":!0},{default:s(o=>[t(w,{to:"/accountDetail?address="+o.row.account_address,style:k(e.isDark(e.store.switchDark))},{default:s(()=>[y(l(o.row.account_address),1)]),_:2},1032,["to","style"])]),_:1},8,["label"]),t(i,{prop:"creation_number",label:e.$t("lang.CreationNumber")},null,8,["label"]),t(i,{prop:"event_sequence_number",label:e.$t("lang.EventSequenceNumber")},null,8,["label"]),t(i,{prop:"txn_hash",label:e.$t("lang.TxnHash"),"show-overflow-tooltip":!0},{default:s(o=>[y(l(o.row.txn_hash),1)]),_:1},8,["label"]),t(i,{prop:"type_tag",label:e.$t("lang.CoinID"),"show-overflow-tooltip":!0},{default:s(o=>[t(w,{to:"/coinDetail?tag="+o.row.type_tag,style:k(e.isDark(e.store.switchDark))},{default:s(()=>[y(l(o.row.type_tag),1)]),_:2},1032,["to","style"])]),_:1},8,["label"]),t(i,{type:"expand",label:e.$t("lang.EventData"),width:"100"},{default:s(o=>[t($,{value:JSON.parse(o.row.event_data),"expand-depth":5,copyable:"",boxed:"",sort:""},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["class","data"])]),_:1},8,["label"])]),_:1},8,["modelValue","onTabClick"])],4)):d("",!0)]),t(E)],64)}var Ue=L(x,[["render",ne],["__scopeId","data-v-5037d443"]]);export{Ue as default};
