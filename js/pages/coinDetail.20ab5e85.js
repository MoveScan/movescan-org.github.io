var E=Object.defineProperty;var F=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var A=(e,l,a)=>l in e?E(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a,H=(e,l)=>{for(var a in l||(l={}))M.call(l,a)&&A(e,a,l[a]);if(F)for(var a of F(l))j.call(l,a)&&A(e,a,l[a]);return e};import{u as K,b as Q}from"../vue-router/vue-router.b3b2f7cd.js";import{_ as W,a as X,t as G,s as J}from"../footer/footer.becc9f56.js";import{S as O}from"../search/search.64506da3.js";import{q as Y,r as Z,s as x}from"../index/index.b402fc8a.js";import{u as ee}from"../vue-clipboard3/vue-clipboard3.f7ffa845.js";import{u as ae}from"../store/store.18269d15.js";import{_ as te}from"../../assets/index.c9112440.js";import{E as C}from"../element-plus/element-plus.7de12a9d.js";import{I as oe,a0 as le,r as p,a3 as ne,h as re,a4 as u,al as se,o as c,c as y,X as o,a as n,L as f,V as m,W as d,P as h,Q as s,U as _,F as ie,b8 as de,b7 as ue,R as L,K as V}from"../@vue/@vue.fb755038.js";import"../@vueuse/@vueuse.d209e4ed.js";import"../vue-i18n/vue-i18n.6f01f2b2.js";import"../@intlify/@intlify.6852b34b.js";import"../source-map/source-map.6efb65ba.js";import"../vue/vue.b16dc40c.js";import"../@element-plus/@element-plus.fb03e5a3.js";import"../axios/axios.f5bf103d.js";import"../nprogress/nprogress.03f19d7f.js";import"../js-cookie/js-cookie.431252a9.js";import"../clipboard/clipboard.61903894.js";import"../pinia/pinia.81315bcb.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../echarts/echarts.5bea4114.js";import"../tslib/tslib.e35f93b8.js";import"../zrender/zrender.b2e4eadc.js";import"../vue-json-viewer/vue-json-viewer.7e7e9520.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.54412c64.js";import"../lodash-es/lodash-es.a0751e35.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.17547d95.js";import"../dayjs/dayjs.7ffc491e.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.1282fc6d.js";const pe=oe({name:"Coin Detail",components:{Header:W,Search:O,Footer:X},setup(){K();const e=Q(),{toClipboard:l}=ee(),a=le({store:ae(),loading:p(!0),loading_:p(!0),currentPage:p(1),currentPage_:p(1),pageSize:p(20),background:p(!1),disabled:p(!1),total:p(0),total_:p(0),detail:p({}),activeName:p("first"),tableData:[],tableData_:[],getcoinDetail:r=>{Y({coin_id:r}).then(i=>{console.log("Coin Detail",i),a.detail=i}).catch(i=>{console.log(i)})},getCoinHolders:r=>{Z({coin_id:r,page:a.currentPage,count:a.pageSize}).then(i=>{console.log("Holders",i),a.tableData=i.contents,a.total=i.total,a.loading=!1}).catch(i=>{console.log(i)})},getTransferList:r=>{x({type_tag:r,page:a.currentPage,count:a.pageSize}).then(i=>{console.log("TransferList",i),a.tableData_=i.contents,a.total_=i.total,a.loading_=!1}).catch(i=>{console.log(i)})},handleClick:(r,i)=>{console.log(r,i)},timestampToTime:r=>G(r),handleSizeChange:r=>{console.log(`${r} items per page`)},handleCurrentChange:r=>{console.log(`current page: ${r}`),a.loading=!0,a.currentPage=r,a.getCoinHolders(e.query.tag)},handleCurrentChange_:r=>{console.log(`current page: ${r}`),a.loading_=!0,a.currentPage_=r,a.getTransferList(e.query.tag)},setSubstring:r=>J(r),copy:async r=>{try{await l(r),C.success("copy success")}catch(i){console.log(i),i.text==null?C.error("copy failed"):C.error(i)}},isDark:r=>r?"color:#2ef1a7":"color:#715cff"}),k=ne(a);return re(()=>{a.getcoinDetail(e.query.tag),a.getCoinHolders(e.query.tag),a.getTransferList(e.query.tag)}),H({},k)}}),I=e=>(de("data-v-2d4d1c6e"),e=e(),ue(),e),ge={class:"container"},ce=I(()=>n("br",null,null,-1)),me={class:"title"},fe=I(()=>n("span",null,null,-1)),be={class:"title"},he={key:0},_e={class:""},Ce={class:"page"},ye={class:""},ke={key:0},we={class:"page"};function ve(e,l,a,k,r,i){const N=u("Header"),q=u("Search"),w=u("DocumentCopy"),v=u("el-icon"),D=u("el-card"),S=u("el-col"),U=u("el-row"),b=u("router-link"),g=u("el-table-column"),$=u("el-table"),z=u("el-pagination"),P=u("el-tab-pane"),B=u("el-tabs"),R=u("Footer"),T=se("loading");return c(),y(ie,null,[o(N),o(q),n("div",ge,[n("div",{class:"block-title",style:f(e.isDark(e.store.switchDark))},[m(d(e.detail.coin_id)+" ",1),e.detail.coin_id!=null?(c(),h(v,{key:0,onClick:l[0]||(l[0]=t=>e.copy(e.detail.coin_id))},{default:s(()=>[o(w)]),_:1})):_("",!0)],4),ce,o(U,null,{default:s(()=>[o(S,{span:12},{default:s(()=>[o(D,{class:"list"},{default:s(()=>[n("span",me,d(e.$t("lang.Survey")),1),n("div",null,[n("span",null,d(e.$t("lang.Supply"))+"\uFF1A",1),n("span",null,d(e.detail.max_amount),1)]),n("div",null,[n("span",null,d(e.$t("lang.CirculatingSupply"))+"\uFF1A",1),n("span",null,d(e.detail.supply),1)]),n("div",null,[n("span",null,d(e.$t("lang.MarketCap"))+"\uFF1A",1),fe])]),_:1})]),_:1}),o(S,{span:12},{default:s(()=>[o(D,{class:"list"},{default:s(()=>[n("span",be,d(e.$t("lang.Basicinfo")),1),n("div",null,[n("span",null,d(e.$t("lang.CreateAt"))+"\uFF1A",1),e.detail.create_at!=null?(c(),y("span",he,d(e.timestampToTime(e.detail.create_at)),1)):_("",!0)]),n("div",null,[n("span",null,d(e.$t("lang.Creator"))+"\uFF1A",1),n("span",null,[m(d(e.detail.creator)+" ",1),e.detail.creator!=null?(c(),h(v,{key:0,onClick:l[1]||(l[1]=t=>e.copy(e.detail.creator))},{default:s(()=>[o(w)]),_:1})):_("",!0)])]),n("div",null,[n("span",null,d(e.$t("lang.HolderAmount"))+"\uFF1A",1),n("span",null,d(e.detail.holders),1)])]),_:1})]),_:1})]),_:1}),n("div",{class:"table",style:f(e.store.switchDark?"background:#202020":"background:#f2f2f2")},[o(B,{modelValue:e.activeName,"onUpdate:modelValue":l[6]||(l[6]=t=>e.activeName=t),class:"demo-tabs",onTabClick:e.handleClick},{default:s(()=>[o(P,{label:e.$t("lang.PassHolder"),name:"first"},{default:s(()=>[n("div",_e,"total "+d(e.total),1),L((c(),h($,{class:V(e.store.switchDark?"black":"white"),data:e.tableData},{default:s(()=>[o(g,{prop:"address",label:e.$t("lang.Account"),width:"660"},{default:s(t=>[t.row.address!==null?(c(),h(b,{key:0,to:"/accountDetail?address="+t.row.address,style:f(e.isDark(e.store.switchDark))},{default:s(()=>[m(d(t.row.address),1)]),_:2},1032,["to","style"])):_("",!0)]),_:1},8,["label"]),o(g,{prop:"amount",label:e.$t("lang.Amount")},null,8,["label"]),o(g,{prop:"supply",label:e.$t("lang.Proportion")},{default:s(t=>[m(d((t.row.amount/1e17*100).toFixed(6)+"%"),1)]),_:1},8,["label"])]),_:1},8,["class","data"])),[[T,e.loading]]),n("div",Ce,[o(z,{currentPage:e.currentPage,"onUpdate:currentPage":l[2]||(l[2]=t=>e.currentPage=t),"page-size":e.pageSize,"onUpdate:page-size":l[3]||(l[3]=t=>e.pageSize=t),disabled:e.disabled,background:e.background,layout:"prev, pager, next, jumper",total:e.total>1e3?1e3:e.total,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["currentPage","page-size","disabled","background","total","onSizeChange","onCurrentChange"])])]),_:1},8,["label"]),o(P,{label:e.$t("lang.TransferList"),name:"second"},{default:s(()=>[n("div",ye,"total "+d(e.total_),1),L((c(),h($,{class:V(e.store.switchDark?"black":"white"),data:e.tableData_},{default:s(()=>[o(g,{prop:"type_tag",label:e.$t("lang.CoinID"),width:"400","show-overflow-tooltip":!0},{default:s(t=>[o(b,{to:"/coinDetail?tag="+t.row.type_tag,style:f(e.isDark(e.store.switchDark))},{default:s(()=>[m(d(t.row.type_tag),1)]),_:2},1032,["to","style"])]),_:1},8,["label"]),o(g,{prop:"amount",label:e.$t("lang.Amount")},null,8,["label"]),o(g,{prop:"create_at",label:e.$t("lang.CreateAt")},{default:s(t=>[t.row.create_at!=null?(c(),y("span",ke,d(e.timestampToTime(t.row.create_at)),1)):_("",!0)]),_:1},8,["label"]),o(g,{prop:"sender",label:e.$t("lang.Sender"),"show-overflow-tooltip":!0},{default:s(t=>[o(b,{to:"/accountDetail?address="+t.row.sender,style:f(e.isDark(e.store.switchDark))},{default:s(()=>[m(d(t.row.sender),1)]),_:2},1032,["to","style"])]),_:1},8,["label"]),o(g,{prop:"receiver",label:e.$t("lang.Receiver"),"show-overflow-tooltip":!0},{default:s(t=>[o(b,{to:"/accountDetail?address="+t.row.receiver,style:f(e.isDark(e.store.switchDark))},{default:s(()=>[m(d(t.row.receiver),1)]),_:2},1032,["to","style"])]),_:1},8,["label"]),o(g,{prop:"txn_hash",label:e.$t("lang.TxnHash"),"show-overflow-tooltip":!0},{default:s(t=>[o(b,{to:"/transactionDetail?hash="+t.row.txn_hash+"&txn_type="+t.row.txn_type,style:f(e.isDark(e.store.switchDark))},{default:s(()=>[m(d(e.setSubstring(t.row.txn_hash)),1)]),_:2},1032,["to","style"])]),_:1},8,["label"])]),_:1},8,["class","data"])),[[T,e.loading_]]),n("div",we,[o(z,{currentPage:e.currentPage_,"onUpdate:currentPage":l[4]||(l[4]=t=>e.currentPage_=t),"page-size":e.pageSize,"onUpdate:page-size":l[5]||(l[5]=t=>e.pageSize=t),disabled:e.disabled,background:e.background,layout:"prev, pager, next, jumper",total:e.total_>1e3?1e3:e.total_,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange_},null,8,["currentPage","page-size","disabled","background","total","onSizeChange","onCurrentChange"])])]),_:1},8,["label"])]),_:1},8,["modelValue","onTabClick"])],4)]),o(R)],64)}var ra=te(pe,[["render",ve],["__scopeId","data-v-2d4d1c6e"]]);export{ra as default};
