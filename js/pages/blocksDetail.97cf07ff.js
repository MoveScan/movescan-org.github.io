var I=Object.defineProperty;var F=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var D=(a,o,t)=>o in a?I(a,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[o]=t,_=(a,o)=>{for(var t in o||(o={}))N.call(o,t)&&D(a,t,o[t]);if(F)for(var t of F(o))R.call(o,t)&&D(a,t,o[t]);return a};import{u as U,b as E}from"../vue-router/vue-router.b3b2f7cd.js";import{_ as q,a as L,t as j}from"../footer/footer.becc9f56.js";import{S as G}from"../search/search.64506da3.js";import{e as M,d as K,j as Q}from"../index/index.b402fc8a.js";import{u as W}from"../vue-clipboard3/vue-clipboard3.f7ffa845.js";import{u as X}from"../store/store.18269d15.js";import{_ as Y}from"../../assets/index.c9112440.js";import{E as y}from"../element-plus/element-plus.7de12a9d.js";import{I as J,a0 as O,r as m,a3 as Z,h as x,a4 as d,al as aa,o as p,c as v,X as r,a as e,L as f,W as l,P as h,Q as u,U as c,R as ea,K as la,F as oa,b8 as ta,b7 as na,V as $}from"../@vue/@vue.fb755038.js";import"../@vueuse/@vueuse.d209e4ed.js";import"../vue-i18n/vue-i18n.6f01f2b2.js";import"../@intlify/@intlify.6852b34b.js";import"../source-map/source-map.6efb65ba.js";import"../vue/vue.b16dc40c.js";import"../@element-plus/@element-plus.fb03e5a3.js";import"../axios/axios.f5bf103d.js";import"../nprogress/nprogress.03f19d7f.js";import"../js-cookie/js-cookie.431252a9.js";import"../clipboard/clipboard.61903894.js";import"../pinia/pinia.81315bcb.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../echarts/echarts.5bea4114.js";import"../tslib/tslib.e35f93b8.js";import"../zrender/zrender.b2e4eadc.js";import"../vue-json-viewer/vue-json-viewer.7e7e9520.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.54412c64.js";import"../lodash-es/lodash-es.a0751e35.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.17547d95.js";import"../dayjs/dayjs.7ffc491e.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.1282fc6d.js";const sa=J({name:"blocksDetail",components:{Header:q,Search:G,Footer:L},setup(){U();const a=E(),{toClipboard:o}=W(),t=O({store:X(),loading:m(!0),activeName:m("first"),currentPage:m(1),pageSize:m(20),total:m(0),background:m(!1),disabled:m(!1),tableData:[],detail:m({}),blockHeight:s=>{M({height:s}).then(n=>{console.log("heightDetail",n),t.detail=n}).catch(n=>{console.log(n)})},blockHash:s=>{K({id:s}).then(n=>{console.log("hashDetail",n),t.detail=n}).catch(n=>{console.log(n)})},blockTransaction:s=>{Q({hash:s}).then(n=>{console.log("BlockTransaction",n),t.tableData=n.contents,t.total=n.total,t.loading=!1}).catch(n=>{console.log(n)})},handleSizeChange:s=>{console.log(`${s} items per page`)},handleCurrentChange:s=>{console.log(`current page: ${s}`),t.loading=!0,t.currentPage=s,t.blockTransaction(a.query.hash)},handleClick:(s,n)=>{console.log(s,n)},timestampToTime:s=>j(s),copy:async s=>{try{await o(s),y.success("copy success")}catch(n){console.log(n),n.text==null?y.error("copy failed"):y.error(n)}},isDark:s=>s?"color:#2ef1a7":"color:#715cff"}),C=Z(t);return x(()=>{t.blockHash(a.query.hash),t.blockTransaction(a.query.hash)}),_({},C)}}),ia=a=>(ta("data-v-bc2f1782"),a=a(),na(),a),ra={class:"container"},ua={class:"blocks-data-wrap table list"},da={style:{width:"100%"}},pa={style:{width:"100%"}},ma={style:{width:"100%"}},ca={style:{width:"100%"}},ga={style:{width:"100%"}},ha={key:0},ba=ia(()=>e("span",null,"nonce:",-1)),ka={key:0},fa={class:"page"};function ya(a,o,t,C,s,n){const w=d("Header"),T=d("Search"),b=d("DocumentCopy"),k=d("el-icon"),S=d("el-tab-pane"),A=d("el-tabs"),g=d("el-table-column"),H=d("router-link"),z=d("el-table"),B=d("el-pagination"),V=d("Footer"),P=aa("loading");return p(),v(oa,null,[r(w),r(T),e("div",ra,[e("div",{class:"block-title",style:f(a.isDark(a.store.switchDark))},l(a.$t("lang.BlockDetail")),5),e("div",ua,[e("div",da,[e("span",null,l(a.$t("lang.BlockAccumulatorRoot"))+"\uFF1A",1),e("span",null,l(a.detail.block_accumulator_root),1),a.detail.block_accumulator_root!=null?(p(),h(k,{key:0,onClick:o[0]||(o[0]=i=>a.copy(a.detail.block_accumulator_root))},{default:u(()=>[r(b)]),_:1})):c("",!0)]),e("div",pa,[e("span",null,l(a.$t("lang.BlockHash"))+"\uFF1A",1),e("span",null,l(a.detail.block_hash),1),a.detail.block_hash!=null?(p(),h(k,{key:0,onClick:o[1]||(o[1]=i=>a.copy(a.detail.block_hash))},{default:u(()=>[r(b)]),_:1})):c("",!0)]),e("div",ma,[e("span",null,l(a.$t("lang.BodyHash"))+"\uFF1A",1),e("span",null,l(a.detail.body_hash),1),a.detail.body_hash!=null?(p(),h(k,{key:0,onClick:o[2]||(o[2]=i=>a.copy(a.detail.body_hash))},{default:u(()=>[r(b)]),_:1})):c("",!0)]),e("div",ca,[e("span",null,l(a.$t("lang.StateRoot"))+"\uFF1A",1),e("span",null,l(a.detail.state_root),1),a.detail.state_root!=null?(p(),h(k,{key:0,onClick:o[3]||(o[3]=i=>a.copy(a.detail.state_root))},{default:u(()=>[r(b)]),_:1})):c("",!0)]),e("div",ga,[e("span",null,l(a.$t("lang.TxnAccumulatorRoot"))+"\uFF1A",1),e("span",null,l(a.detail.txn_accumulator_root),1)]),e("div",null,[e("span",null,l(a.$t("lang.Creator"))+"\uFF1A",1),e("span",null,l(a.detail.author),1),a.detail.author!=null?(p(),h(k,{key:0,onClick:o[4]||(o[4]=i=>a.copy(a.detail.author))},{default:u(()=>[r(b)]),_:1})):c("",!0)]),e("div",null,[e("span",null,l(a.$t("lang.ChainID"))+"\uFF1A",1),e("span",null,l(a.detail.chain_id),1)]),e("div",null,[e("span",null,l(a.$t("lang.CreateAt"))+"\uFF1A",1),a.detail.create_at!=null?(p(),v("span",ha,l(a.timestampToTime(a.detail.create_at)),1)):c("",!0)]),e("div",null,[e("span",null,l(a.$t("lang.Difficulty"))+"\uFF1A",1),e("span",null,l(a.detail.difficulty),1)]),e("div",null,[e("span",null,l(a.$t("lang.Extra"))+"\uFF1A",1),e("span",null,l(a.detail.extra),1)]),e("div",null,[e("span",null,l(a.$t("lang.FirstVersion"))+"\uFF1A",1),e("span",null,l(a.detail.first_version),1)]),e("div",null,[e("span",null,l(a.$t("lang.GasUsed"))+"\uFF1A",1),e("span",null,l(a.detail.gas_used),1)]),e("div",null,[e("span",null,l(a.$t("lang.Height"))+"\uFF1A",1),e("span",null,l(a.detail.height),1)]),e("div",null,[e("span",null,l(a.$t("lang.LastVersion"))+":",1),e("span",null,l(a.detail.last_version),1)]),e("div",null,[ba,e("span",null,l(a.detail.nonce),1)]),e("div",null,[e("span",null,l(a.$t("lang.ParentHash"))+":",1),e("span",null,l(a.detail.parent_hash),1)]),e("div",null,[e("span",null,l(a.$t("lang.Txns"))+":",1),e("span",null,l(a.detail.transactions),1)])]),e("div",{class:"table",style:f(a.store.switchDark?"background:#202020":"background:#f2f2f2")},[r(A,{modelValue:a.activeName,"onUpdate:modelValue":o[5]||(o[5]=i=>a.activeName=i),class:"demo-tabs",onTabClick:a.handleClick},{default:u(()=>[r(S,{label:a.$t("lang.Transaction"),name:"first",style:f(a.isDark(a.store.switchDark))},{default:u(()=>[$(l(a.total)+" "+l(a.$t("lang.Txns")),1)]),_:1},8,["label","style"])]),_:1},8,["modelValue","onTabClick"]),ea((p(),h(z,{class:la(a.store.switchDark?"black":"white"),data:a.tableData},{default:u(()=>[r(g,{prop:"global_index",label:a.$t("lang.Index")},null,8,["label"]),r(g,{prop:"create_at",label:a.$t("lang.CreateAt")},{default:u(i=>[i.row.create_at!=null?(p(),v("span",ka,l(a.timestampToTime(i.row.create_at)),1)):c("",!0)]),_:1},8,["label"]),r(g,{prop:"success",label:a.$t("lang.IsSuccess")},{default:u(i=>[$(l(i.row.success?a.$t("lang.Yes"):a.$t("lang.No")),1)]),_:1},8,["label"]),r(g,{prop:"gas_used",label:a.$t("lang.GasUsed")},null,8,["label"]),r(g,{prop:"txn_type",label:a.$t("lang.TxnType")},null,8,["label"]),r(g,{prop:"txn_hash",label:a.$t("lang.TxnHash"),"show-overflow-tooltip":!0,width:"300"},{default:u(i=>[r(H,{to:"/transactionDetail?hash="+i.row.txn_hash+"&txn_type="+i.row.txn_type,style:f(a.isDark(a.store.switchDark))},{default:u(()=>[$(l(i.row.txn_hash),1)]),_:2},1032,["to","style"])]),_:1},8,["label"])]),_:1},8,["class","data"])),[[P,a.loading]]),e("div",fa,[r(B,{currentPage:a.currentPage,"onUpdate:currentPage":o[6]||(o[6]=i=>a.currentPage=i),"page-size":a.pageSize,"onUpdate:page-size":o[7]||(o[7]=i=>a.pageSize=i),disabled:a.disabled,background:a.background,layout:"prev, pager, next, jumper",total:a.total,onSizeChange:a.handleSizeChange,onCurrentChange:a.handleCurrentChange},null,8,["currentPage","page-size","disabled","background","total","onSizeChange","onCurrentChange"])])],4)]),r(V)],64)}var le=Y(sa,[["render",ya],["__scopeId","data-v-bc2f1782"]]);export{le as default};
